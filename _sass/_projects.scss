/* ---------------------------------------------------------
   Projects page styles (minima-compatible, no fancy selectors)
   --------------------------------------------------------- */

/* --- Palette & tokens (tweak here if you want) --- */
$ink:        #1f2937;  /* text */
$muted:      #6b7280;  /* secondary text */
$panel:      #f8fafc;  /* card background (very light) */
$border:     #e5e7eb;  /* light border */
$accent:     #226e5a;  /* subtle deep green accent */
$accent-ink: #165247;  /* darker accent text */
$radius:     8px;      /* slight rounding only */
$shadow:     0 1px 2px rgba(0,0,0,.06), 0 6px 20px rgba(0,0,0,.04);

/* expand wrapper a bit on Projects page only */
.is-projects .page-content .wrapper { max-width: 1180px; }

/* prevent accidental horizontal scrollbars */
html, body { overflow-x: hidden; }


/* ================== Layout ================== */
.projects-page {
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr);
  gap: 1.2rem; /* tight gap between ToC and content */
  align-items: start;
}

@media (max-width: 980px) {
  .projects-page { grid-template-columns: 1fr; }
}

/* ================== TOC ================== */
.projects-toc {
  position: sticky;
  top: 5.5rem; /* below header */
  height: fit-content;
}

.projects-toc .toc-inner {
  background: #fff;
  border: 1px solid $border;
  border-radius: $radius;
  box-shadow: $shadow;
  padding: .85rem .9rem;
}

.projects-toc h2 {
  font-size: 1.05rem;
  margin: 0 0 .6rem;
  color: $ink;
}

.projects-toc ul { list-style: none; padding: 0; margin: 0; }
.projects-toc li + li { margin-top: .45rem; }
.projects-toc a {
  display: block;
  padding: .5rem .55rem;
  border-radius: $radius;
  text-decoration: none;
  color: $ink;
  border: 1px solid transparent;
}
.projects-toc a:hover {
  background: $panel;
  border-color: $border;
}

/* ================== Common sections ================== */
.project-section {
  background: #fff;
  border: 1px solid $border;
  border-radius: $radius;
  box-shadow: $shadow;
  margin-bottom: 1rem;
  overflow: hidden;
}

.project-header { padding: .9rem 1rem .4rem; }
.title-row { display: flex; align-items: baseline; gap: .5rem; }
.project-title { margin: 0; font-size: 1.6rem; color: $ink; line-height: 1.2; }
.project-dates { margin-left: auto; font-size: .9rem; color: $muted; }
.project-roleline { margin-top: .25rem; color: $muted; }
.project-roleline .sep { margin: 0 .4rem; color: $border; }
.project-oneliner { margin: .45rem 0 0; color: $ink; }

.stack-list {
  list-style: none; padding: 0 1rem 1rem; margin: .2rem 0 0;
  display: flex; flex-wrap: wrap; gap: .4rem;
}
.stack-item {
  font-size: .8rem; border: 1px solid $border; border-radius: 999px;
  padding: .18rem .5rem; background: $panel; color: $muted;
}
.stack-more { font-weight: 600; }

/* ================== Hero & gallery ================== */
.project-hero { margin: 0; }
.project-hero img {
  display: block;
  width: 100%;
  height: auto;
}
.project-hero figcaption { color: $muted; font-size: .85rem; padding: .35rem 1rem .6rem; }

.project-gallery {
  padding: .4rem 1rem 1rem;
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: .75rem;
}
.project-gallery figure { margin: 0; }
.project-gallery img { width: 100%; height: auto; display: block; }
.project-gallery figcaption { font-size: .82rem; color: $muted; margin-top: .25rem; }

/* ================== Impact metrics ================== */
.impact-grid {
  padding: .2rem 1rem .75rem;
  display: grid;
  grid-template-columns: repeat(var(--n, 3), minmax(0, 1fr));
  gap: .6rem;
}
.impact-card {
  border: 1px solid $border; background: $panel; border-radius: $radius; padding: .6rem .7rem;
}
.impact-label { font-size: .75rem; color: $muted; }
.impact-value { font-size: 1rem; font-weight: 700; color: $accent-ink; margin-top: .12rem; }
.impact-note  { font-size: .8rem; color: $muted; margin-top: .12rem; }

@media (max-width: 820px) {
  .impact-grid { display: flex; overflow-x: auto; gap: .6rem; -webkit-overflow-scrolling: touch; }
  .impact-card { flex: 0 0 240px; }
}

/* ================== Highlights ================== */
.highlights { padding: .25rem 1rem .8rem; }
.highlights h3 { font-size: 1rem; margin: .3rem 0 .35rem; }
.highlights ul { margin: 0; padding-left: 1.2rem; }
.highlights li { margin: .25rem 0; }

/* ================== Case study (full projects) ================== */
.case-study { padding: .2rem 1rem 1rem; }
.case-study details { border: 1px solid $border; border-radius: $radius; background: #fff; }
.case-study summary {
  padding: .55rem .7rem; cursor: pointer; font-weight: 600; user-select: none; list-style: none; position: relative;
}
.case-study summary::after { content: "▸"; position: absolute; right: .6rem; top: 50%; transform: translateY(-50%); color: $accent-ink; }
.case-study details[open] summary::after { content: "▾"; }
.case-study .panel { padding: .55rem .8rem .8rem; background: #fff; border-top: 1px solid $border; }
.case-study .meta-group { display: flex; align-items: center; gap: .6rem; margin: .2rem 0 .6rem; flex-wrap: wrap; }
.case-study .meta-label { font-size: .78rem; color: $muted; }
.meta-chips .chip { display: inline-block; border: 1px solid $border; border-radius: 999px; padding: .18rem .48rem; background: #fff; color: $muted; font-size: .78rem; }
.case-study .md h4 { font-size: .95rem; margin: .45rem 0 .2rem; }
.case-study .md p  { margin: 0 0 .45rem; line-height: 1.65; }

/* ================== Footer: contributions & team ================== */
.project-footer {
  padding: .4rem 1rem 1rem;
  display: grid;
  grid-template-columns: 1fr;
  gap: .4rem;
}
.project-footer h4 { font-size: .95rem; margin: .25rem 0 .2rem; }
.inline-list { list-style: none; padding: 0; margin: 0; display: flex; flex-wrap: wrap; gap: .5rem 1rem; }
.inline-list li { white-space: nowrap; }

/* ================== Links (common) ================== */
.project-links { padding: .2rem 1rem 1rem; display: flex; flex-wrap: wrap; gap: .45rem; }
.btn-link {
  display: inline-block; padding: .35rem .6rem; border: 1px solid $border; border-radius: $radius; text-decoration: none;
  background: #fff; color: $ink; font-size: .88rem;
}
.btn-link:hover { border-color: $accent; color: $accent-ink; }

/* ===================================================
   In-Progress consolidated panel (independent cards)
   =================================================== */
.inprogress-section { padding-bottom: .5rem; }

.ip-grid {
  /* Masonry via multi-column layout so each card expands independently */
  column-width: 360px;
  column-gap: 1rem;
  padding: .75rem 1.25rem 1.25rem;
}

.ip-card {
  display: inline-block;
  width: 100%;
  margin: 0 0 1rem;
  break-inside: avoid;

  border: 1px solid $border;
  border-radius: $radius;
  background: $panel;
  box-shadow: $shadow;
  padding: .9rem 1rem;
}

.ip-head { display: flex; align-items: baseline; gap: .5rem; flex-wrap: wrap; }
.ip-title { margin: 0; font-size: 1.05rem; line-height: 1.2; color: $ink; }
.ip-role { margin-left: auto; font-size: .85rem; color: $muted; white-space: nowrap; }

.ip-one { margin: .35rem 0 .6rem; color: $ink; }

.ip-tags { list-style: none; margin: 0 0 .6rem; padding: 0; display: flex; flex-wrap: wrap; gap: .35rem; }
.ip-tags .chip { font-size: .78rem; border: 1px solid $border; color: $muted; background: #fff; border-radius: 999px; padding: .18rem .48rem; }
.ip-tags .chip-more { font-weight: 600; }

.ip-metrics {
  display: grid;
  grid-template-columns: repeat(var(--m, 3), minmax(0, 1fr));
  gap: .6rem;
  margin-bottom: .6rem;
}
.ip-metric { border: 1px solid $border; background: #fff; border-radius: $radius; padding: .55rem .6rem; }
.ip-metric .label { font-size: .72rem; color: $muted; }
.ip-metric .value { font-size: .95rem; font-weight: 700; color: $accent-ink; margin-top: .12rem; }
.ip-metric .note  { font-size: .75rem; color: $muted; margin-top: .15rem; }

.ip-details { margin-top: .25rem; border: 1px solid $border; border-radius: $radius; background: #fff; overflow: hidden; }
.ip-details > summary { padding: .55rem .7rem; cursor: pointer; font-weight: 600; user-select: none; list-style: none; position: relative; }
.ip-details > summary::after { content: "▸"; position: absolute; right: .6rem; top: 50%; transform: translateY(-50%); color: $accent-ink; }
.ip-details[open] > summary::after { content: "▾"; }
.ip-details .panel { padding: .5rem .7rem .7rem; }
.ip-details .md h4 { font-size: .9rem; margin: .4rem 0 .15rem; color: $ink; }
.ip-details .md p { margin: 0 0 .4rem; line-height: 1.6; }

.ip-links { margin-top: .5rem; }

/* Mobile: one column + horizontal scrolling metrics */
@media (max-width: 820px) {
  .ip-grid { column-width: auto; column-count: 1; }
  .ip-metrics { display: flex; overflow-x: auto; gap: .6rem; -webkit-overflow-scrolling: touch; scroll-snap-type: x mandatory; }
  .ip-metric { flex: 0 0 240px; scroll-snap-align: start; }
}
