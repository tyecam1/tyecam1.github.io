/* ===================================================================
   Home page styles (scoped to .home)
   - No global width overrides
   - Namespaced Featured section to hf-* to avoid collisions
   =================================================================== */

.home {
  /* ---------- Intro / hero text ---------- */
  .kicker {
    font-size: .9rem;
    letter-spacing: .08em;
    text-transform: uppercase;
    opacity: .75;
  }

  .lede {
    margin-top: .5rem;
    max-width: 65ch;
  }

  /* ---------- Skill chips ---------- */
  .skill-chips {
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
    margin: 1rem 0 0;
    padding: 0;
    list-style: none;
  }

  .skill-chips .chip {
    padding: .35rem .6rem;
    border-radius: 999px;
    border: 1px solid currentColor;
    font-size: .85rem;
    white-space: nowrap;
    opacity: .85;
    transition: opacity .15s, transform .15s;
  }

  .skill-chips .chip:hover {
    opacity: 1;
    transform: translateY(-1px);
  }

  /* ===================================================================
     Featured projects (namespaced: hf-*)
     =================================================================== */

  /* Section wrapper; do not change site width here */
  .hf { padding-left: 0; padding-right: 0; }

  /* Two-column grid that fills the page wrapper */
  .hf-grid {
    width: 100%;
    margin: 0;
    display: grid;
    gap: clamp(16px, 2vw, 24px);
    grid-template-columns: 1fr; /* mobile */
  }

  @media (min-width: 920px) {
    .hf-grid {
      grid-template-columns: repeat(2, minmax(0, 1fr)); /* desktop */
    }
  }

  /* Project card */
  .hf-card {
    width: 100%;
    max-width: none;
    position: relative;
    isolation: isolate;   /* contain overlays/shadows */
    overflow: hidden;
    padding: 1rem;
    border-radius: 1rem;
    border: 1px solid rgba(0, 0, 0, .12);
    box-shadow: 0 6px 18px rgba(0, 0, 0, .06);
    background: var(--card-bg, transparent);
    display: flex;
    flex-direction: column;
  }

  .hf-head { margin: 0 0 .5rem; }
  .hf-title { margin: 0; line-height: 1.25; }

  .hf-meta {
    margin-top: .25rem;
    font-size: .9rem;
    opacity: .8;
    display: flex;
    flex-wrap: wrap;
    gap: .5rem;
  }

  .hf-meta .date { white-space: nowrap; }

  .hf-blurb {
    margin: .75rem 0 0;
    max-width: 80ch;
  }

  /* ---------- Gallery (carousel) ---------- */
  .hf-media-wrap { margin-top: .25rem; }

  .hf-scroller {
    display: grid;
    grid-auto-flow: column;
    grid-auto-columns: 100%;           /* one slide = card width */
    gap: .5rem;
    overflow-x: auto;
    scroll-snap-type: x mandatory;
    scroll-behavior: smooth;
    -webkit-overflow-scrolling: touch;
    border-radius: .75rem;
    padding-bottom: .25rem;            /* space to hide scrollbar track */
    scrollbar-width: none;             /* Firefox */
  }

  .hf-scroller::-webkit-scrollbar { height: 0; } /* WebKit */

  .hf-item {
    scroll-snap-align: start;
    overflow: hidden;
    border-radius: .75rem;
  }

  .hf-item img {
    display: block;
    width: 100%;
    aspect-ratio: 16 / 9;              /* uniform card height */
    object-fit: contain;               /* no center-crop */
    background: rgba(0, 0, 0, .04);    /* subtle letterbox for odd ratios */
  }

  /* Carousel arrows */
  .hf-controls {
    pointer-events: none;
    position: absolute;
    inset: 0;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0 .25rem;
  }

  .hf-btn {
    pointer-events: auto;
    width: 2rem;
    height: 2rem;
    border-radius: 999px;
    border: 1px solid currentColor;
    background: transparent;
    opacity: .85;
    line-height: 1;
  }

  .hf-btn:hover { opacity: 1; }

  /* ---------- Lightbox ---------- */
  .hf-lightbox {
    position: fixed;
    inset: 0;
    display: none;
    align-items: center;
    justify-content: center;
    padding: 2rem;
    background: rgba(0, 0, 0, .85);
    z-index: 1000;
  }

  .hf-lightbox:target { display: flex; }

  .hf-backdrop { position: absolute; inset: 0; } /* click-away to close */

  .hf-fig {
    max-width: min(1200px, 92vw);
    max-height: 86vh;
    display: flex;
    align-items: center;
    justify-content: center;
  }

  .hf-fig img {
    max-width: 100%;
    max-height: 78vh;
    border-radius: .5rem;
  }

  .hf-close,
  .hf-nav {
    position: fixed;
    display: grid;
    place-items: center;
    text-decoration: none;
    color: #fff;
    border: 1px solid #fff;
    border-radius: 999px;
    opacity: .9;
    background: transparent;
  }

  .hf-close {
    top: 1rem;
    right: 1rem;
    width: 2.25rem;
    height: 2.25rem;
    font-size: 1.25rem;
    line-height: 1;
  }

  .hf-nav {
    top: 50%;
    transform: translateY(-50%);
    width: 2.5rem;
    height: 2.5rem;
    font-size: 1.2rem;
  }

  .hf-nav.prev { left: 1rem; }
  .hf-nav.next { right: 1rem; }

  /* ---------- Accessibility: reduce motion ---------- */
  @media (prefers-reduced-motion: reduce) {
    .hf-scroller { scroll-behavior: auto; }
  }
}

/* --------- final polish: spacing + stacking to avoid overlap --------- */
.home .hf-grid{
  gap: clamp(20px, 2.5vw, 28px);    /* a touch more gutter between columns */
}

.home .hf-card{
  z-index: 0;                       /* establish a base stacking context */
  overflow: hidden;                 /* clip internal overlays at the border */
  background: var(--card-bg, #fff); /* solid bg so gutters look clean */
  box-shadow: 0 6px 18px rgba(0,0,0,.06);
  border: 1px solid rgba(0,0,0,.12);
  border-radius: 1rem;
}

.home .hf-controls{ z-index: 2; }   /* keep arrows above images but inside the card */

.home .hf-scroller{
  grid-auto-columns: 100%;          /* each slide = exact card width */
  scrollbar-width: none;
}
.home .hf-scroller::-webkit-scrollbar{ height: 0; }

.home .hf-item img{
  display: block;
  width: 100%;
  aspect-ratio: 16/9;               /* uniform height */
  object-fit: contain;              /* no cropping */
  background: rgba(0,0,0,.04);      /* subtle letterbox for odd ratios */
}

/* extra breathing room between columns */
.home .hf-grid{
  gap: clamp(24px, 3vw, 32px);
}

/* keep each card as its own clipped layer */
.home .hf-card{
  isolation: isolate;
  overflow: hidden;
  z-index: 0;
  background: #fff; /* ensures clean gutter */
}

/* move arrows inward so they never sit in the gutter */
.home .hf-controls{
  position: absolute;
  top: 50%;
  left: 0; right: 0;
  transform: translateY(-50%);
  display: flex;
  justify-content: space-between;
  align-items: center;

  /* pad both sides so buttons don’t kiss the edge */
  padding-left: 12px;
  padding-right: 12px;
  pointer-events: none;  /* container doesn’t block scroll */
}

.home .hf-btn{
  pointer-events: auto;  /* buttons are clickable */
  width: 32px; height: 32px;
  border-radius: 999px;
  border: 1px solid currentColor;
  background: #fff;      /* reads clearly over images */
  box-shadow: 0 1px 4px rgba(0,0,0,.15);
  opacity: .9;
}
.home .hf-btn:hover{ opacity: 1; }

/* each click advances exactly one slide (keep this in index.md) */
// <button class="hf-btn prev" ... s.scrollBy({left:-s.clientWidth,...})>
// <button class="hf-btn next" ... s.scrollBy({left:s.clientWidth,...})>
