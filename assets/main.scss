/* ==========================================================================
   MAIN STYLESHEET
   Light theme, clean typography, and Projects page layout/components
   ========================================================================== */

/* -----------------------------
   CSS Variables (Light Theme)
   ----------------------------- */
:root {
  --bg: #ffffff;
  --card: #ffffff;          /* light card */
  --ink: #111827;           /* slate-900 */
  --muted: #6b7280;         /* slate-500 */
  --border: #e5e7eb;        /* slate-200 */
  --chip-bg: #f8fafc;       /* slate-50 */
  --chip-ink: #0f172a;
  --metric-bg: #f8fafc;
  --metric-ink: #0f172a;
  --accent: #2563eb;        /* blue-600 */
  --accent-ink: #ffffff;
  --link: #1d4ed8;          /* blue-700 */
  --shadow: 0 4px 14px rgba(0,0,0,.06);
}

/* -----------------------------
   Base / Reset
   ----------------------------- */
*,
*::before,
*::after { box-sizing: border-box; }

html { scroll-behavior: smooth; }

body {
  margin: 0;
  background: var(--bg);
  color: var(--ink);
  font-family: system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", sans-serif;
  line-height: 1.6;
  font-size: 16px;
}

/* Selection */
::selection { background: rgba(37, 99, 235, 0.18); color: var(--ink); }

/* Headings */
h1, h2, h3, h4, h5 {
  color: var(--ink);
  line-height: 1.25;
  margin: 0 0 .5rem 0;
  font-weight: 700;
}
h1 { font-size: clamp(2rem, 1.2rem + 2vw, 2.6rem); }
h2 { font-size: clamp(1.6rem, 1.1rem + 1.2vw, 2.0rem); }
h3 { font-size: clamp(1.2rem, 1.05rem + .6vw, 1.35rem); }

/* Paragraphs & lists */
p { margin: .4rem 0 .9rem; }
ul, ol { margin: .4rem 0 .9rem .95rem; }

/* Links */
a {
  color: var(--link);
  text-decoration: none;
}
a:hover { text-decoration: underline; }
a:focus-visible {
  outline: 3px solid var(--accent);
  outline-offset: 2px;
  border-radius: 2px;
  text-decoration: none;
}

/* Code */
code, pre {
  font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
}
pre {
  background: var(--chip-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: .8rem;
  overflow: auto;
}

/* Images */
img { max-width: 100%; height: auto; display: block; }

/* Buttons (utility class if needed) */
.btn {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  padding: .5rem .9rem;
  background: var(--accent);
  color: var(--accent-ink);
  border-radius: 4px;
  border: 1px solid var(--accent);
  box-shadow: var(--shadow);
  text-decoration: none;
  font-weight: 600;
}
.btn:hover { filter: brightness(0.97); text-decoration: none; }

/* Horizontal rule */
hr {
  border: none;
  border-top: 1px solid var(--border);
  margin: 1.5rem 0;
}

/* Utility: ensure anchored sections donâ€™t hide under fixed headers */
.anchor-target { scroll-margin-top: 80px; }

/* ==========================================================================
   PROJECTS PAGE
   Structure: sidebar ToC + main content
   ========================================================================== */

/* Layout: keep ToC width; shift whole block slightly left for centering */
.projects-layout {
  max-width: 1180px;
  margin: 0 auto;
  display: grid;
  grid-template-columns: 260px minmax(0, 1fr); /* original ToC width preserved */
  gap: 1.5rem;
  position: relative;
  left: -40px; /* nudge ToC + content left so main content feels central */
}

@media (min-width: 1400px) {
  .projects-layout { left: -60px; } /* stronger nudge on very wide screens */
}
@media (max-width: 960px) {
  .projects-layout {
    grid-template-columns: 1fr;
    left: 0; /* no nudge on small screens */
  }
}

/* ToC (sidebar) */
.toc nav ul { margin: 0; padding: 0; list-style: none; }
.toc nav li + li { margin-top: .35rem; }

.toc a {
  display: block;
  padding: .55rem .7rem;
  border-radius: 4px;               /* sharper */
  background: var(--bg);
  color: var(--ink);
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
  text-decoration: none;
  font-size: .95rem;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.toc a:hover { border-color: var(--accent); text-decoration: none; }
.toc a.active {
  background: var(--accent);
  color: var(--accent-ink);
  border-color: var(--accent);
}

/* Section header */
.project-header { margin-bottom: .6rem; }
.project-header h2 { margin: 0 0 .25rem 0; line-height: 1.2; }
.project-meta, .project-stack { color: var(--muted); font-size: .95rem; }
.project-stack { margin-top: .15rem; }

/* Media */
.project-media { margin: .6rem 0 .9rem; }
.project-hero {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 4px;               /* sharper */
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.project-media figcaption {
  color: var(--muted);
  font-size: .9rem;
  margin-top: .35rem;
  text-align: center;
}

/* Project body card */
.project-body {
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 4px;               /* sharper */
  padding: 1rem 1.15rem;
  box-shadow: var(--shadow);
}
.project-body > h3 { margin: .25rem 0 .35rem; }

/* Highlights */
.project-highlights {
  margin: .5rem 0 .75rem;
  padding-left: 1.05rem;
}
.project-highlights li { margin: .2rem 0; }

/* Impact metrics grid */
.impact-metrics {
  display: grid;
  grid-template-columns: repeat( auto-fit, minmax(160px, 1fr) );
  gap: .55rem;
  margin: .7rem 0 .95rem;
}
.impact-metrics .metric {
  background: var(--metric-bg);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: .65rem .7rem;
}
.impact-metrics .metric strong {
  display: block;
  font-size: 1.05rem;
  color: var(--ink);
}
.impact-metrics .metric span {
  color: var(--muted);
  font-size: .9rem;
}
.impact-metrics .metric small {
  display: block;
  color: var(--muted);
  font-size: .8rem;
  margin-top: .2rem;
}

/* Case study collapsible block */
.case-details {
  border: 1px dashed var(--border);
  border-radius: 4px;
  padding: .35rem .6rem;
  background: transparent;
  margin-top: .35rem;
}
.case-details summary {
  cursor: pointer;
  font-weight: 600;
  color: var(--link);
  list-style: none;
  padding: .25rem 0;
}
.case-details summary::-webkit-details-marker { display: none; }
.case-details[open] { background: rgba(37, 99, 235, 0.035); }

/* Links (rendered only if present via Liquid) */
.project-links {
  display: flex;
  flex-wrap: wrap;
  gap: .5rem;
  margin-top: .8rem;
}
.project-links a {
  display: inline-flex;
  align-items: center;
  gap: .35rem;
  padding: .45rem .75rem;
  border-radius: 4px;
  text-decoration: none;
  background: var(--bg);
  color: var(--link);
  border: 1px solid var(--border);
}
.project-links a:hover {
  border-color: var(--accent);
  box-shadow: var(--shadow);
  text-decoration: none;
}

/* Gallery grid */
.gallery-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: .65rem;
  margin-top: .9rem;
}
.gallery-grid figure { margin: 0; }
.gallery-grid img {
  width: 100%;
  height: auto;
  display: block;
  border-radius: 4px;
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}
.gallery-grid figcaption {
  color: var(--muted);
  font-size: .85rem;
  margin-top: .25rem;
  text-align: center;
}
@media (max-width: 840px) {
  .gallery-grid { grid-template-columns: repeat(2, 1fr); }
}
@media (max-width: 520px) {
  .gallery-grid { grid-template-columns: 1fr; }
}

/* Ownership section */
.project-ownership {
  margin-top: .9rem;
  background: var(--card);
  border: 1px solid var(--border);
  border-radius: 4px;
  padding: .8rem .95rem;
  box-shadow: var(--shadow);
}
.project-ownership h3 { margin-top: .1rem; }
.project-ownership h4 { margin: .6rem 0 .35rem; }
.project-ownership ul { margin: .35rem 0 .35rem 1rem; }

/* Accessibility focus (global) */
a:focus-visible, button:focus-visible, summary:focus-visible {
  outline: 3px solid var(--accent);
  outline-offset: 2px;
  border-radius: 2px;
}

/* Optional: make tables look presentable (for results tables elsewhere) */
table {
  width: 100%;
  border-collapse: collapse;
  margin: .5rem 0 1rem;
}
th, td {
  padding: .55rem .6rem;
  border-bottom: 1px solid var(--border);
  text-align: left;
}
thead th { font-weight: 600; }
